import{C as u,c as p,R as e}from"./CreateReactScript-BRBWlRTV.js";import{U as E}from"./UsersRest-s1AUu4ek.js";import{A as g,i as v}from"./Adminto-BQEdF9zl.js";const f=new E,N=({can:r,users:a,roles:i,APP_DOMAIN:o})=>{const d=async(t,n)=>{await f.assignRole({role:t.id,user:n.id})&&location.reload()};return e.createElement(e.Fragment,null,e.createElement("div",{className:"d-flex flex-wrap align-items-center justify-content-center",style:{minHeight:"calc(100vh - 135px)",maxHeight:"max-content"}},e.createElement("div",{className:"d-flex flex-wrap align-items-center justify-content-center gap-2"},a.map((t,n)=>{var s,c;const m=((c=(s=t.service_user)==null?void 0:s.roles)==null?void 0:c[0])??{name:t.is_owner?"Owner":"Sin rol",description:"El usuario no tiene un rol asignado"};return e.createElement("div",{key:`user-${n}`,className:"card mb-0",style:{width:"360px"}},e.createElement("div",{className:"card-body widget-user"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("div",{className:"flex-shrink-0 avatar-lg me-3"},e.createElement("img",{src:`//${o}/api/profile/thumbnail/${t.relative_id}`,className:"img-fluid rounded-circle",alt:"user"})),e.createElement("div",null,e.createElement("div",{className:"flex-grow-1 overflow-hidden",style:{width:"215px"}},e.createElement("h5",{className:"mt-0 mb-1"},t.name," ",t.lastname),e.createElement("p",{className:"text-muted mb-2 font-13 text-truncate"},t.email)),e.createElement("div",null,e.createElement("div",{className:"btn-group"},e.createElement("button",{className:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},m.name," ",e.createElement("i",{className:"mdi mdi-chevron-down"})),e.createElement("div",{className:"dropdown-menu"},i.map((l,w)=>e.createElement(v,{content:`Asignar rol ${l.name}`},e.createElement("a",{className:"dropdown-item",href:"#",onClick:()=>d(l,t)},e.createElement("i",{className:"mdi mdi-account-convert me-2"}),l.name))),e.createElement("div",{className:"dropdown-divider"}),e.createElement("a",{className:"dropdown-item",href:"#"},e.createElement("i",{className:"mdi mdi-plus me-2"}),"Nuevo rol"))))))))}))))};u((r,a)=>{p(r).render(e.createElement(g,{...a,title:"Usuarios"},e.createElement(N,{...a})))});
