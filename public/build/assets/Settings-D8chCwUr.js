var H=Object.defineProperty;var L=(s,l,c)=>l in s?H(s,l,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[l]=c;var R=(s,l,c)=>(L(s,typeof l!="symbol"?l+"":l,c),c);import{C as G,c as P,R as e,r}from"./CreateReactScript-CVY3HzKt.js";import{B as Q,A as I}from"./Adminto-CFuhAGWx.js";import{M as C}from"./Modal-CBdtmnYV.js";import{Q as z}from"./QuillFormGroup-Byk8gSEN.js";/* empty css                    */import{S as w}from"./SelectFormGroup-dxUp-DLT.js";import{E as F}from"./Editor-oElHw87E.js";import{T as D}from"./TextareaFormGroup-prMXhYrp.js";import"./index-DE8gkn8h.js";class O extends Q{constructor(){super(...arguments);R(this,"path","settings")}}const S=new O,J=({can:s,constants:l,statuses:c})=>{const i=r.useRef(),N=r.useRef(),f=r.useRef(),g=r.useRef(),h=r.useRef(),x=r.useRef(),[o,q]=r.useState(),m=(t,a,n,u)=>{const k=y(a);switch(q(u),f.current.value=a,N.current.value=u,u){case"simpleHTML":h.editor.root.innerHTML=k.value;break;case"HTML":x.current.setContent(k.value);break;default:g.current.value=k.value;break}$(i.current).find(".modal-title").text(n),$(i.current).modal("show")},M=async t=>{t.preventDefault();let a=g.current.value;switch(o){case"simpleHTML":a=h.editor.root.innerHTML;break;case"HTML":a=x.current.getContent();break}const n={type:N.current.value,name:f.current.value,value:a};await S.save(n)&&($(i.current).modal("hide"),location.reload())},y=t=>{const a=l.find(({name:n})=>n==t);return a||{name:t,value:null}},p=r.useRef(),v=r.useRef(),b=r.useRef(),E=r.useRef(),d=r.useRef(),A=()=>{const t=y("assignation-lead-status"),a=JSON.parse(t.value);$(d.current).find(".modal-title").text("Estados de asignacion"),p.current.value="assignation-lead-status",$(v.current).val(a==null?void 0:a.lead).trigger("change"),$(b.current).val(a==null?void 0:a.manage).trigger("change"),$(E.current).val(a==null?void 0:a.task).trigger("change"),$(d.current).modal("show")},T=()=>{const t=y("revertion-lead-status"),a=JSON.parse(t.value);$(d.current).find(".modal-title").text("Estados de reversion"),p.current.value="revertion-lead-status",$(v.current).val(a==null?void 0:a.lead).trigger("change"),$(b.current).val(a==null?void 0:a.manage).trigger("change"),$(E.current).val(a==null?void 0:a.task).trigger("change"),$(d.current).modal("show")},j=async t=>{t.preventDefault();const a={lead:v.current.value,manage:b.current.value,task:E.current.value},n={name:p.current.value,value:JSON.stringify(a),type:"json"};await S.save(n)&&($(i.current).modal("hide"),location.reload())};return e.createElement(e.Fragment,null,e.createElement("div",{className:"row"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card",style:{minHeight:"calc(100vh - 160px)"}},e.createElement("div",{className:"card-header"},e.createElement("h4",{className:"header-title mb-0"},"Configura aqui las constantes del sistema")),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-sm-3 mb-2"},e.createElement("div",{className:"nav flex-column nav-pills nav-pills-tab",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},e.createElement("a",{className:"nav-link active show mb-1",id:"v-general-tab","data-bs-toggle":"pill",href:"#v-general",role:"tab","aria-controls":"v-general","aria-selected":"true"},"General"),e.createElement("a",{className:"nav-link mb-1",id:"v-clients-leads-tab","data-bs-toggle":"pill",href:"#v-clients-leads",role:"tab","aria-controls":"v-clients-leads","aria-selected":"false"},"Clientes y leads"),e.createElement("a",{className:"nav-link mb-1",id:"v-email-tab","data-bs-toggle":"pill",href:"#v-email",role:"tab","aria-controls":"v-email","aria-selected":"false"},"Correo"),e.createElement("a",{className:"nav-link mb-1",id:"v-whatsapp-tab","data-bs-toggle":"pill",href:"#v-whatsapp",role:"tab","aria-controls":"v-whatsapp","aria-selected":"false"},"WhatsApp"),e.createElement("a",{className:"nav-link mb-1",id:"v-generativeai-tab","data-bs-toggle":"pill",href:"#v-generativeai",role:"tab","aria-controls":"v-generativeai","aria-selected":"false"},"IA ",e.createElement("i",{className:"mdi mdi-star-four-points"})))),e.createElement("div",{className:"col-sm-9"},e.createElement("div",{className:"tab-content pt-0"},e.createElement("div",{className:"tab-pane fade active show coming-soon",id:"v-general",role:"tabpanel","aria-labelledby":"v-general-tab"},e.createElement("h4",null,"Configuracion general"),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2"},e.createElement("h5",{className:"card-title mb-1"},"Que julio no vea esto"),e.createElement("p",{className:"card-text mb-1"},"Si lo ves, aun esta en implementacion, pero quiero que vaya quedando el dise単o"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Atte. Manuel (el 9)")))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2"},e.createElement("h5",{className:"card-title mb-1"},"Que julio no vea esto"),e.createElement("p",{className:"card-text mb-1"},"Si lo ves, aun esta en implementacion, pero quiero que vaya quedando el dise単o"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Atte. Manuel (el 9)")))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2"},e.createElement("h5",{className:"card-title mb-1"},"Que julio no vea esto"),e.createElement("p",{className:"card-text mb-1"},"Si lo ves, aun esta en implementacion, pero quiero que vaya quedando el dise単o"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Atte. Manuel (el 9)")))))),e.createElement("div",{className:"tab-pane fade",id:"v-clients-leads",role:"tabpanel","aria-labelledby":"v-clients-leads-tab"},e.createElement("h4",null,"Configuracion de clientes y leads"),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:A},e.createElement("h5",{className:"card-title mb-1"},"Estados de asignacion"),e.createElement("p",{className:"card-text mb-0"},"Cuales son los estados que asignan el usuario al cliente directamente?"))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:T},e.createElement("h5",{className:"card-title mb-1"},"Estados de reversion"),e.createElement("p",{className:"card-text mb-0"},"Cuales son los estados que quitan la asignacion del usuario directamente?"))))),e.createElement("div",{className:"tab-pane fade coming-soon",id:"v-email",role:"tabpanel","aria-labelledby":"v-email-tab"},e.createElement("h4",null,"Configuracion de correo"),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2"},e.createElement("h5",{className:"card-title mb-1"},"Credenciales"),e.createElement("p",{className:"card-text mb-1"},"De donde saldran los mensajes de correo hacia los leads?"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Correo actual: mundoweb.pe")))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:()=>{}},e.createElement("h5",{className:"card-title mb-1"},"Dise単o de correo para el lead"),e.createElement("p",{className:"card-text mb-1"},"Que correo veran los nuevos leads cuando caigan al crm?"))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2"},e.createElement("h5",{className:"card-title mb-1"},"Correo administrador"),e.createElement("p",{className:"card-text mb-1"},"A que correo deseas que te enviemos un mensaje cuando se registe un nuevo lead?"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted ",style:{wordWrap:"wrap"}},"Correo actual: gamboapalominocarlosmanuel@gmail.com")))))),e.createElement("div",{className:"tab-pane fade",id:"v-whatsapp",role:"tabpanel","aria-labelledby":"v-whatsapp-tab"},e.createElement("h4",null,"Configuracion de WhatsApp"),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:t=>m(t,"whatsapp-new-lead-notification-message","Notificacion - Nuevo lead","simpleHTML")},e.createElement("h5",{className:"card-title mb-1"},"Notificacion - Nuevo lead"),e.createElement("p",{className:"card-text mb-1"},"Que mensaje llegara al grupo/persona encargado de revisar los leads?"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Click para modificar")))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:t=>m(t,"whatsapp-new-lead-notification-waid","Grupo/Persona encargado","text")},e.createElement("h5",{className:"card-title mb-1"},"Grupo/Persona encargado"),e.createElement("p",{className:"card-text mb-1"},"A quien(es) debemos notificar cuando se registre un nuevo lead?"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Click para modificar")))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:t=>m(t,"whatsapp-new-lead-notification-message-client","Notificacion al lead","simpleHTML")},e.createElement("h5",{className:"card-title mb-1"},"Notificacion al lead"),e.createElement("p",{className:"card-text mb-1"},"Que mensaje le llegara al lead cuando sea registrado en el sistema?"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Click para modificar")))))),e.createElement("div",{className:"tab-pane fade",id:"v-generativeai",role:"tabpanel","aria-labelledby":"v-generativeai-tab"},e.createElement("h4",null,"IA ",e.createElement("i",{className:"mdi mdi-star-four-points"})),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:t=>m(t,"gemini-api-key","API Key - Gemini","text")},e.createElement("h5",{className:"card-title mb-1"},"API Key - Gemini"),e.createElement("p",{className:"card-text mb-1"},"Configura un API key para que ",e.createElement("b",null,"Gemini")," interactue con nuevos clientes."),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Click para modificar")))),e.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body border p-2",onClick:t=>m(t,"gemini-what-business-do","Que hace tu empresa [Separado por comas]","text")},e.createElement("h5",{className:"card-title mb-1"},"Que hace tu empresa"),e.createElement("p",{className:"card-text mb-1"},"Ayuda a Gemini a saber que productos/servicios buscan los clientes en tu empresa"),e.createElement("p",{className:"card-text"},e.createElement("small",{className:"text-muted"},"Click para modificar"))))))))))))),e.createElement(C,{modalRef:d,title:"",onSubmit:j,size:"sm"},e.createElement("input",{ref:p,type:"hidden"}),e.createElement("div",{className:"row",id:"assignation-status-container"},e.createElement(w,{eRef:v,label:"Estado del lead",dropdownParent:"#assignation-status-container",required:!0},e.createElement("option",{value:!0},"- Sin accion -"),c.filter(({table_id:t})=>t=="e05a43e5-b3a6-46ce-8d1f-381a73498f33").sort((t,a)=>t.order-a.order).map((t,a)=>e.createElement("option",{key:`status-${a}`,value:t.id},t.name))),e.createElement(w,{eRef:b,label:"Estado de gestion",dropdownParent:"#assignation-status-container",required:!0},e.createElement("option",{value:!0},"- Sin accion -"),c.filter(({table_id:t})=>t=="9c27e649-574a-47eb-82af-851c5d425434").sort((t,a)=>t.order-a.order).map((t,a)=>e.createElement("option",{key:`status-${a}`,value:t.id},t.name))),e.createElement(w,{eRef:E,label:"Estado de la tarea",dropdownParent:"#assignation-status-container",required:!0},e.createElement("option",{value:!0},"- Sin accion -"),e.createElement("option",{value:"Pendiente"},"Pendiente"),e.createElement("option",{value:"En curso"},"En curso"),e.createElement("option",{value:"Realizado"},"Realizado")))),e.createElement(C,{modalRef:i,title:"",onSubmit:M,size:"md"},e.createElement("div",{className:"row",id:"settings-crud-container"},e.createElement("input",{ref:f,type:"hidden"}),e.createElement("input",{ref:N,type:"hidden"}),e.createElement("div",{style:{display:o=="text"||o==""||o==null?"block":"none"}},e.createElement(D,{eRef:g,label:"Valor",col:"col-12"})),e.createElement("div",{style:{display:o=="simpleHTML"?"block":"none"}},e.createElement(z,{eRef:h,label:"Valor",col:"col-12",theme:"bubble"})),e.createElement("div",{className:"col-12",style:{display:o=="HTML"?"block":"none"}},e.createElement("label",{htmlFor:""},"Valor de la variable"),e.createElement(F,{apiKey:"k2389nfj5bxjbe7s3kkc3c6fututtaba9syfaviluaf2jew6",onInit:(t,a)=>x.current=a,init:{height:500,menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}})))))};G((s,l)=>{if(!l.can("settings","root","all","list"))return location.href="/";P(s).render(e.createElement(I,{...l,title:"Constantes de configuracion"},e.createElement(J,{...l})))});
