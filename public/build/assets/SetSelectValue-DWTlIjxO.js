import{r as f,m as i,R as c}from"./CreateReactScript-CVY3HzKt.js";const N=({col:o,label:t,eRef:a,required:s=!1,dropdownParent:n,searchAPI:l,searchBy:e,multiple:E=!1,filter:u=null})=>(a||(a=f.useRef()),f.useEffect(()=>{$(a.current).select2({dropdownParent:n,minimumInputLength:0,ajax:{url:l,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(i.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:r,page:m}){return i.JSON.stringify({sort:[{selector:e,desc:!1}],skip:((m??1)-1)*10,take:10,filter:u?[[e,"contains",r],"and",u]:[e,"contains",r]})},processResults:function(r,{page:m}){return{results:((r==null?void 0:r.data)??[]).map(p=>i.JSON.flatten(p)).map(({id:p,[e]:g})=>({id:p,text:g})),pagination:{more:(m??1)*10<r.totalCount}}}}})},[n]),c.createElement("div",{className:`form-group ${o} mb-2`},c.createElement("label",{htmlFor:"",className:"mb-1"},t," ",s&&c.createElement("b",{className:"text-danger"},"*")),c.createElement("select",{ref:a,required:s,className:"form-control",style:{width:"100%"},multiple:E}))),x=(o,t,a,s)=>{if($(o).empty(),!!t){if(Array.isArray(t))t.forEach(({[a]:n,[s]:l})=>{const e=document.createElement("option");e.value=n,e.text=l,e.selected=!0,$(o).append(e)});else{const n=document.createElement("option");n.value=t,n.text=a??t,$(o).append(n),$(o).val(t)}$(o).trigger("change")}};export{x as S,N as a};
