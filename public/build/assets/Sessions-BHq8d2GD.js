import{C as E,c as g,R as e,r as o}from"./CreateReactScript-BRBWlRTV.js";import{A as b}from"./Adminto-Bk5OoDPl.js";import{M as v}from"./Modal-CYscrTZ-.js";import{I as l}from"./InputFormGroup-Bwc1l4v7.js";import{T as f}from"./TextareaFormGroup-CQXxCfbs.js";import{g as N}from"./google-K1CXqkDy.js";const x=({sessions:r=[]})=>{const c=o.useRef(),[d,h]=o.useState([null,...r]),[t,s]=o.useState({}),p=a=>{s(a),$(c.current).modal("show")};return e.createElement(e.Fragment,null,e.createElement("main",{className:"d-flex align-items-center justify-content-center",style:{height:"calc(100vh - 160px)"}},d.map((a,n)=>a==null?e.createElement("div",{key:n,className:"card btn btn-light waves-effect",onClick:()=>p(null)},e.createElement("div",{className:"card-body widget-user"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("div",{className:"flex-grow-1 overflow-hidden"},e.createElement("i",{className:"mdi mdi-plus mdi-36px"}),e.createElement("span",{className:"d-block"},"Nuevo"))))):e.createElement("div",{key:n,className:"card"},e.createElement("div",{className:"card-body widget-user"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("div",{className:"flex-grow-1 overflow-hidden"},e.createElement("h5",{className:"mt-0 mb-1"},a==null?void 0:a.name),e.createElement("p",{className:"text-muted mb-2 font-13 text-truncate"},"coderthemes@gmail.com"),e.createElement("small",{className:"text-pink"},e.createElement("b",null,"Support Lead")))))))),e.createElement(v,{modalRef:c,title:`Agregar cuenta${t!=null&&t.type?` - ${t.type}`:""}`,hideFooter:!(t!=null&&t.type&&!(t!=null&&t.name))},!(t!=null&&t.type)&&e.createElement("div",{className:"d-flex align-items-center gap-3 justify-content-center",style:{minHeight:"240px"}},["Email","WhatsApp"].map((a,n)=>e.createElement("label",{key:n,className:"d-block position-relative btn btn-light text-center",style:{width:"120px"}},e.createElement("input",{className:"d-none position-absolute",type:"radio",name:"session_type",id:"",value:a,style:{left:"8px",top:"8px"},onChange:m=>s(i=>({...i,type:m.target.value}))}),e.createElement("img",{className:"d-block mx-auto mb-1",src:`/assets/img/${a}.svg`,alt:a,style:{width:"50px",aspectRatio:1,objectFit:"contain",objectPosition:"center"}}),e.createElement("span",null,a)))),(t==null?void 0:t.type)&&!(t!=null&&t.name)&&e.createElement(e.Fragment,null,console.log(t),e.createElement(l,{label:"Nombre",required:!0}),e.createElement(f,{label:"Descripcion",required:!0}),(t==null?void 0:t.type)=="Email"?e.createElement(e.Fragment,null,e.createElement("ul",{class:"nav nav-pills navtab-bg nav-justified"},e.createElement("li",{class:"nav-item"},e.createElement("a",{href:"#email-integration","data-bs-toggle":"tab","aria-expanded":"false",class:"nav-link active"},e.createElement("i",{className:"mdi mdi-email me-1"}),"Integracion")),e.createElement("li",{class:"nav-item"},e.createElement("a",{href:"#email-gmail","data-bs-toggle":"tab","aria-expanded":"true",class:"nav-link"},e.createElement("i",{className:"mdi mdi-gmail me-1"}),"Gmail")),e.createElement("li",{class:"nav-item"},e.createElement("a",{href:"#email-google","data-bs-toggle":"tab","aria-expanded":"false",class:"nav-link"},e.createElement("i",{className:"mdi mdi-google me-1"}),"Google"))),e.createElement("div",{class:"tab-content"},e.createElement("div",{class:"tab-pane active",id:"email-integration"},e.createElement("div",{className:"row"},e.createElement(l,{label:"Host",col:"col-md-8"}),e.createElement(l,{label:"Puerto",col:"col-md-4",type:"number"}),e.createElement(l,{label:"Correo"}),e.createElement(l,{label:"Contraseña"}))),e.createElement("div",{class:"tab-pane show",id:"email-gmail"},e.createElement(l,{label:"Correo"}),e.createElement(l,{label:"Contraseña de aplicación"})),e.createElement("div",{class:"tab-pane text-center",id:"email-google"},e.createElement("p",null,"Necesitamos tu permiso para ",e.createElement("br",null),"acceder a tu correo electrónico. ",e.createElement("br",null),e.createElement("small",{className:"text-muted"},"No te preocupes, tus datos están seguros con nosotros.")),e.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center gap-1"},e.createElement("button",{className:"btn btn-sm btn-primary",type:"button",onClick:()=>setTokenUUID(crypto.randomUUID())},"Ya he iniciado sesión"),e.createElement("button",{className:"btn btn-sm btn-white d-inline-flex align-items-center gap-1",type:"button",onClick:a=>{const n=window.open(googleAuthURI,"_blank"),m=Local.get("tokenUUID"),i=setInterval(()=>{const u=Local.get("tokenUUID");m!=u&&(clearInterval(i),n.close(),setTokenUUID())},[500])}},e.createElement("img",{src:N,alt:"",style:{width:"14px",height:"14px",objectFit:"contain",objectPosition:"center"}}),e.createElement("span",null,"Permitir acceso")))))):e.createElement(e.Fragment,null))))};E((r,c)=>{g(r).render(e.createElement(b,{...c,title:"Cuentas"},e.createElement(x,{...c})))});
